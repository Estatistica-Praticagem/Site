"use strict";(globalThis["webpackChunkquasar_project"]=globalThis["webpackChunkquasar_project"]||[]).push([[418],{3418:(e,a,l)=>{l.r(a),l.d(a,{default:()=>w});l(239);var t=l(1758),s=l(9104),o=l(8734),n=l(455),c=l(989);const i=e=>((0,t.Qi)("data-v-0dc0cc98"),e=e(),(0,t.jt)(),e),r={class:"section-login flex flex-center"},u={class:"login-content"},d=i((()=>(0,t.Lk)("h2",{class:"text-h5 text-primary text-center q-mb-md"},"Login",-1))),m={__name:"LoginPage",setup(e){const a=(0,o.KR)(""),l=(0,o.KR)(""),i=(0,o.KR)(!1),m=(0,n.rd)();async function p(){i.value=!0;try{const e=await fetch("https://www.meusimulador.com/kevi/backend/login.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.value,password:l.value})}),t=await e.json();t.success?(localStorage.setItem("user_id",t.id),localStorage.setItem("user_name",t.name),c.A.create({type:"positive",message:"Login successful!"}),m.push("/contacts")):c.A.create({type:"negative",message:t.message||"Login failed."})}catch(e){c.A.create({type:"negative",message:"Connection error."}),console.error(e)}finally{i.value=!1}}return(e,o)=>{const n=(0,t.g2)("q-input"),c=(0,t.g2)("q-btn"),m=(0,t.g2)("q-form");return(0,t.uX)(),(0,t.CE)("section",r,[(0,t.Lk)("div",u,[d,(0,t.bF)(m,{onSubmit:(0,s.D$)(p,["prevent"]),class:"login-form"},{default:(0,t.k6)((()=>[(0,t.bF)(n,{modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=e=>a.value=e),label:"Email",type:"email",filled:"",required:"",class:"q-mb-md"},null,8,["modelValue"]),(0,t.bF)(n,{modelValue:l.value,"onUpdate:modelValue":o[1]||(o[1]=e=>l.value=e),label:"Password",type:"password",filled:"",required:"",class:"q-mb-md"},null,8,["modelValue"]),(0,t.bF)(c,{label:"Login",type:"submit",color:"primary",class:"full-width",loading:i.value},null,8,["loading"])])),_:1})])])}}};var p=l(2807),g=l(9200),b=l(9270),v=l(2374),f=l(8582),h=l.n(f);const y=(0,p.A)(m,[["__scopeId","data-v-0dc0cc98"]]),w=y;h()(m,"components",{QForm:g.A,QInput:b.A,QBtn:v.A})}}]);